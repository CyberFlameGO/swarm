<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2017-03-16 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Swarm &#x2013; CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170316" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Swarm
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-03-16</span>
                  &nbsp;| <span id="projectVersion">Version: 2.6.2</span>
                      </div>
            <div class="xright">                    <a href="./" title="Swarm">Swarm</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                          <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                          <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
            <strong>CPD</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD">PMD</a>
            </li>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs">FindBugs</a>
            </li>
                      <li class="none">
                          <a href="xref/index.html" title="Source Xref">Source Xref</a>
            </li>
                      <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">Cobertura Test Coverage</a>
            </li>
                      <li class="none">
                          <a href="javancss.html" title="JavaNCSS Report">JavaNCSS Report</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.3.2.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/event/PickBox.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/event/PickBox.html#L422">422</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/wave/WaveClipboardFrame.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/wave/WaveClipboardFrame.html#L1103">1103</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  public void scaleTime(final AbstractWavePanel wvp, final double pct) {
    final double st = wvp.getStartTime();
    final double et = wvp.getEndTime();
    final double[] t = new double[] {st, et};
    addHistory(wvp, t);
    final double dt = (et - st) * (1 - pct);
    final double mt = (et - st) / 2 + st;
    final double nst = mt - dt / 2;
    final double net = mt + dt / 2;
    fetchNewWave(wvp, nst, net);
  }

  public void scaleTime(final double pct) {
    for (final AbstractWavePanel p : selectedSet)
      scaleTime(p, pct);
  }

  public void back(final AbstractWavePanel wvp) {
    final Stack&lt;double[]&gt; history = histories.get(wvp);
    if (history == null || history.empty())
      return;

    final double[] t = history.pop();
    fetchNewWave(wvp, t[0], t[1]);
  }

  public void back() {
    for (final AbstractWavePanel p : selectedSet)
      back(p);
  }

  private void shiftTime(final AbstractWavePanel wvp, final double pct) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/chooser/WebServicesPanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/chooser/WebServicesPanel.html#L128">128</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/chooser/WebServicesPanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/chooser/WebServicesPanel.html#L170">170</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    String sta = &quot;&quot;;
    String loc = &quot;&quot;;
    String chan = &quot;&quot;;
    String gs = &quot;60&quot;;
    String gd = &quot;1.0&quot;;
    String wsDataSelectUrl = getDefaultText(wsDataselectUrlField);
    String wsStationUrl = getDefaultText(wsStationUrlField);
    int index;
    if (source != null &amp;&amp; (index = source.indexOf(codeText)) != -1) {
      String[] ss =
          source.substring(index + codeText.length()).split(WebServicesSource.PARAM_SPLIT_TEXT);
      int ssIndex = 0;
      net = ss[ssIndex++];
      sta = ss[ssIndex++];
      loc = ss[ssIndex++];
      chan = ss[ssIndex++];
      gs = String.format(&quot;%.0f&quot;, Integer.parseInt(ss[ssIndex++]) / 60.0);
      gd = String.format(&quot;%.1f&quot;, Integer.parseInt(ss[ssIndex++]) / 1000.0);
      wsDataSelectUrl = ss[ssIndex++];
      wsStationUrl = ss[ssIndex++];
    }
    selectNetwork(net);
    station.setText(sta);
    location.setText(loc);
    channel.setText(chan);
    gulperSize.setText(gs);
    gulperDelay.setText(gd);
    wsDataselectUrlField.setText(wsDataSelectUrl);
    wsStationUrlField.setText(wsStationUrl);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/data/AbstractCachingDataSource.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/data/AbstractCachingDataSource.html#L387">387</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/data/FileDataSource.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/data/FileDataSource.html#L190">190</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    final List&lt;CachedWave&gt; waves = waveCache.get(station);
    if (waves == null)
      return null;
    else {
      final List&lt;Wave&gt; parts = new ArrayList&lt;Wave&gt;();
      double minT = 1E300;
      double maxT = -1E300;
      for (final CachedWave cw : waves) {
        if (cw.wave.overlaps(t1, t2)) {
          parts.add(cw.wave);
          minT = Math.min(minT, cw.t1);
          maxT = Math.max(maxT, cw.t2);
        }
      }

      if (parts.size() == 1)
        return parts.get(0);

      wave = Wave.join(parts, minT, maxT);
      if (wave != null)
        wave = wave.subset(t1, t2);
    }
    return wave;
  }</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/event/PickToolBar.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/event/PickToolBar.html#L217">217</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/wave/WaveClipboardFrame.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/wave/WaveClipboardFrame.html#L534">534</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  private void doSizePopup() {
    if (popup == null) {
      final String[] labels = new String[] {&quot;Auto&quot;, null, &quot;Tiny&quot;, &quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot;};
      final int[] sizes = new int[] {-1, -1, 50, 100, 160, 230};
      popup = new JPopupMenu();
      final ButtonGroup group = new ButtonGroup();
      for (int i = 0; i &lt; labels.length; i++) {
        if (labels[i] != null) {
          final int size = sizes[i];
          final JRadioButtonMenuItem mi = new JRadioButtonMenuItem(labels[i]);
          mi.addActionListener(new ActionListener() {
            public void actionPerformed(final ActionEvent e) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/data/fdsnWs/WebServiceStationTextClient.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/data/fdsnWs/WebServiceStationTextClient.html#L33">33</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/data/fdsnWs/WebServiceStationXmlClient.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/data/fdsnWs/WebServiceStationXmlClient.html#L48">48</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    WebServiceStationTextClient client = createClient(args);
    try {
      client.setStationList(createStationList());
      error = client.fetchStations();
      if (error == null) {
        List&lt;StationInfo&gt; stationList = client.getStationList();
        System.out.println(&quot;station count: &quot; + stationList.size());
        for (StationInfo station : stationList) {
          System.out.println(&quot;station: &quot; + station);
          client.setCurrentStation(station);
          error = client.fetchChannels();
        }
      }
    } catch (Exception ex) {
      ex.printStackTrace();
    }
    if (error != null) {
      System.out.println(error);
    } else {
      System.out.println(&quot;done&quot;);
    }
  }

  /**
   * Create the web service station client.
   * 
   * @param baseUrlText
   *          the base URL text.
   * @param net
   *          the network or null if none.
   * @param sta
   *          the station or null if none.
   * @param loc
   *          the location or null if none.
   * @param chan
   *          the channel or null if none.
   * @param date
   *          the date or null if none.
   */
  public WebServiceStationTextClient(String baseUrlText, String net, String sta, String loc,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/rsam/RsamViewPanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/rsam/RsamViewPanel.html#L164">164</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/wave/AbstractWavePanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/wave/AbstractWavePanel.html#L633">633</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>  private void createImage() {
    final Runnable r = new Runnable() {
      public void run() {
        if (getWidth() &gt; 0 &amp;&amp; getHeight() &gt; 0) {
          BufferedImage bi =
              new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_4BYTE_ABGR);
          Graphics2D ig = (Graphics2D) bi.getGraphics();
          constructPlot(ig);
          setImage(bi);
        }
      }
    };

    if (SwingUtilities.isEventDispatchThread()) {
      SwingWorker worker = new SwingWorker() {
        public Object construct() {
          r.run();
          return null;
        }

        public void finished() {
          repaint();
        }
      };
      worker.start();
    } else</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/map/MapPanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/MapPanel.html#L901">901</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/map/MapPanel.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/MapPanel.html#L932">932</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>        xy = getXY(pts[i % n].x, pts[i % n].y);
        final Point thisXY = new Point();
        thisXY.x = (int) Math.round(xy.x);
        thisXY.y = (int) Math.round(xy.y);
        final double a = thisXY.x - lastXY.x;
        final double b = thisXY.y - lastXY.y;
        final double dist = Math.sqrt(a * a + b * b);
        if (dist &gt; 100)
          gp.moveTo(thisXY.x - 2, thisXY.y - 1);
        else
          gp.lineTo(thisXY.x - 2, thisXY.y - 1);
        lastXY = thisXY;</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/heli/HelicorderViewerSettingsDialog.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/heli/HelicorderViewerSettingsDialog.html#L102">102</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/heli/HelicorderViewerSettingsDialog.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/heli/HelicorderViewerSettingsDialog.html#L122">122</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>    int[] values = HelicorderViewerFrame.chunkValues;
    String[] chunks = new String[values.length];
    for (int i = 0; i &lt; chunks.length; i++)
      chunks[i] = Integer.toString(values[i] / 60);

    chunkList = new JComboBox(chunks);

    values = HelicorderViewerFrame.spanValues;
    String[] spans = new String[values.length];
    for (int i = 0; i &lt; spans.length; i++)
      spans[i] = Integer.toString(values[i] / 60);

    spanList = new JComboBox(spans);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.html#L180">180</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.html#L302">302</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>		int insetPx = panel.getInset();

		final Point2D.Double xy = projection.forward(new Point2D.Double(origin.getLongitude(), origin.getLatitude()));
		final double[] ext = range.getProjectedExtents(projection);
		final double dx = (ext[1] - ext[0]);
		final double dy = (ext[3] - ext[2]);
		final Point2D.Double res = new Point2D.Double();

		res.x = (((xy.x - ext[0]) / dx) * widthPx + insetPx);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.html#L112">112</a></td></tr>
<tr class="a">
<td>gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.java</td>
<td><a href="./xref/gov/usgs/volcanoes/swarm/map/hypocenters/HypocenterLayer.html#L305">305</a></td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>			final Point2D.Double xy = projection.forward(originLoc);

			final double[] ext = range.getProjectedExtents(projection);
			final double dx = (ext[1] - ext[0]);
			final double dy = (ext[3] - ext[2]);
			final Point2D.Double res = new Point2D.Double();
			res.x = (((xy.x - ext[0]) / dx) * widthPx + insetPx);
			res.y = ((1 - (xy.y - ext[2]) / dy) * heightPx + insetPx);</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2017.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
